<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Milestone 4</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<!-- Note: The "styleN" class below should match that of the banner element. -->
					<header id="header" class="alt style2">
						<a href="index.html" class="logo"><strong>ECE 3400</strong></a>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li><a href="team_contract.html">Team Contract</a></li>
						</ul>
					</nav>

				<!-- Banner -->
				<!-- Note: The "styleN" class below should match that of the header element. -->
					<section id="banner" class="style2">
						<div class="inner">
							<span class="image">
								<img src="images/pic07.jpg" alt="" />
							</span>
							<header class="major">
								<h1>Milestone 4</h1>
							</header>
							<div class="content">
								<p>COMPUTER-VISION LABRON</p>
							</div>
						</div>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="inner">
									<header class="major">
										<h2>Introduction</h2>
									</header>
									<p>In fulfilling this Milestone, we were tasked with converting our functioning camera setup into a more nuanced color and shape determination. We set about this by splitting the work for both types of features, hoping to join the complete setup for both in the end.</p>
								</div>
							</section>

						<!-- Two -->
							<section id="two" class="spotlights">
								<section>
									<iframe width="560" height="315" src="https://www.youtube.com/embed/Tw_tMw3Blxg?ecver=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Color Detection</h3>
											</header>
											<p>The colors of interest to us were blue and red. Given that these are primary colors and supported extensively by RGB styled image processing, we hoped to make use of the on-board image converting of our camera and use more simple calulations on our FPGA to determine color. The method we chose was to be a strict majority and over a baseline threshold. To determine what a majority meant, we simply took each pixels' data and examined whether the larger magnitude belonged to red or blue (again, only over a second threshold). The end result was quite accurate color detection.</p>
										</div>
									</div>
								</section>

								<section>
									<iframe width="560" height="315" src="https://www.youtube.com/embed/OhUrtoF0Udk?ecver=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Shape Detection</h3>
											</header>
											<p>Shape detection offere less obvious routes to success compared to color detection. Our singular attack strategy was that we already had a set of well-defined shapes we wanted to search for (triangle, square, diamond). We began by looking for patterns in rows of pixels we received, and after some initial succes in locating "clumps" of red or blue, were able to extrapolate from there with larger shape detection. The most trouble we received was in determining the presence of a diamond. Having a shape very distinctly between a square and a triangle, the inclusion of this third shape made testing quite extensive to be sure we were thresholding all our values correctly. Unfortunately, we were quite hurried in making our video for demonstraction of completion, and so were only able to show the diamond being correctly identified. However, given that this was the hardest shape to determine, it follows that the square and triangle had to be completed before this task.</p>
										</div>
									</div>
								</section>

								<section>
									<iframe width="560" height="315" src="https://www.youtube.com/embed/hO2f7GQmMOQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Shape Detection Update</h3>
											</header>
											<p>The shape detection update greatly improved the accuracy and quality after multiple corrections. Here is how we do the image processing to detect the treasure shapes (Triangle, Square, and Diamond). Our concept is to find the upper bound and the last bound of the treasure for locating and thus, could dynamically locate the middle three rows for shape detection.
												<li>First of all, we would have to find first row and the last row of the treasure for the second frame for shape detection. </li>
												<li>Because the frame update so fast, the first row and last row wouldn't make much difference between the two frame unless the the camera or the treasure isn't stable enough. Then, the second frame would be able to locate the treasure according to the upper and lower bound row position. </li>
												<li>The middle three rows could detect the shape from comparison each other. For example, diamond would have the longest row in the middle. And triangle would have the longest at the last row. </li>
												Through this algorithm, we would be able to detect the shape accurately and precisely.
												</p>
										</div>
									</div>
								</section>

								<section>
									<section>
										<img src="images/Milestone4/camera_wiring.jpg" width="600" style="padding-left:2em;">
										<img src="images/Milestone4/shape_detection.jpg" width="600" style="padding-left:2em;">
									</section>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Key for shape detection</h3>
											</header>
											<p>Please beware of that Verilog is a Hardware Design Circuit. Not simply a C like language. You would rather map out the circuit in your mind whenever programming Verilog.
												<li>Always access or store the data when falling or rising edge. This would assure you only get one data update not multiple ones. </li>
												<li>FPGA runs faster than you thought. Always output your pin with the LED or connect pins to the scope for debugging. </li>
												<li>For image processing, always visualize how your algorithm or filter is outputing on the screen for convenience and debugging. It's hard to tell a number for single pinout unless you're presenting in only one bit. </li>
												Always keep these in mind when programming Verilog.
											</p>
										</div>
									</div>
								</section>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="inner">
									<header class="major">
										<h2>Conclusion</h2>
									</header>
									<p>Working with the camera again, we found ourselves in a familiar dilemma of dealing with inaccurate hardware and "touchy" wirings that would often fail between successful tests. This made this portion of our final robot all the more challenging, but also rewarding as we began to see resutls. The final color and shape detection are not combined and able to provide accurate results, provided one takes a running average to sort reduce the chance of false positives.</p>
									<ul class="actions">
										<li><a href="index.html" class="button next">Back to Home</a></li>
									</ul>
								</div>
							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<ul class="icons">
								<li><a href="https://twitter.com/KingJames?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
								<li><a href="https://www.facebook.com/LeBron/" class="icon alt fa-facebook"><span class="label">Facebook</span></a></li>
								<li><a href="https://www.instagram.com/kingjames/?hl=en" class="icon alt fa-instagram"><span class="label">Instagram</span></a></li>
								<li><a href="https://github.com/ece-3400-group/" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
								<li><a href="https://www.linkedin.com/in/shubhom/" class="icon alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Cornell University</li><li>Design Credits: <a href="https://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
